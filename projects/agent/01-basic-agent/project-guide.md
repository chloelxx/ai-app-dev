# 01 Basic Agent 项目说明（模板）

## 一、项目概述

- **项目名称**：01 Basic Agent - 工具增强型聊天智能体
- **项目级别**：入门 / 基础
- **项目目标**：通过实现一个简单但完整的 Agent 应用，熟悉以下内容：
  - 大模型 API 调用（如 OpenAI / Claude / DeepSeek）
  - 提示工程与上下文管理
  - 简单工具调用（Tool Use）
  - 使用 FastAPI 暴露 HTTP 接口
- **预期产出**：
  - 一个可运行的基础 Agent 服务（本地或容器环境）
  - 项目代码仓库（包含文档与基本测试）

## 二、项目背景与场景

> 本节用于描述一个具体、贴近业务的使用场景，示例：
>
> - “智能问答小助手”：支持日常问答 + 计算 + 翻译
> - “开发小助手”：可以根据指令调用文档检索 / 代码片段搜索工具
>
> 在实际填写时，请明确：
> - 目标用户是谁？
> - 他们遇到的核心问题是什么？
> - 这个 Basic Agent 如何帮他们更高效地解决问题？

建议结构：

- **业务场景**：  
  简要描述实际业务环境（如内部知识问答、学习辅助等）。
- **核心痛点**：  
  用户当前需要手动完成的繁琐步骤或认知负担。
- **Agent 价值**：  
  通过一个简单智能体自动化 / 半自动化这些步骤。

## 三、功能需求设计

### 3.1 必备功能

- **对话接口**
  - 支持接收用户输入（文本）
  - 返回模型生成的回复
- **大模型集成**
  - 至少集成一个主流模型（OpenAI / Claude / DeepSeek 任选其一）
  - 支持配置 API Key、模型名称、温度等参数
- **工具调用（至少 1 个）**
  - 示例工具：
    - 计算器（如四则运算、单位换算）
    - 时间 / 天气查询（可先用 Mock 或公开 API）
    - 文本翻译（调用第三方翻译接口或自定义规则）
  - Agent 能根据用户意图自动决定是否调用工具
- **基础日志**
  - 记录每次请求的输入、输出、错误信息（可写入控制台或简单文件）

### 3.2 可选增强功能（根据时间与精力选择）

- 会话记忆（短期）：在单轮会话内记住前几轮对话历史
- 简单前端页面：基于 HTML/JS 或任意前端框架，实现一个聊天界面
- 配置文件管理：通过 `.env` 或配置文件管理密钥与参数

## 四、技术栈与架构

### 4.1 推荐技术栈

- **后端语言**：Python 3.10+
- **Web 框架**：FastAPI
- **HTTP 客户端**：`httpx` 或 `requests`
- **依赖管理**：`pip` + `requirements.txt` 或 `poetry`

### 4.2 模块划分建议

- `api` 层：FastAPI 路由，定义 `/chat` 或 `/agent/invoke` 等接口
- `services` 层：封装 Agent 逻辑（提示构建、工具选择、调用顺序）
- `clients` 层：与大模型 API、第三方工具 API 的交互
- `schemas`：请求 / 响应的数据模型（Pydantic）
- `config`：配置与环境变量管理

可以在项目根目录（`01-basic-agent/`）中创建如下结构（示例）：

- `src/`
  - `main.py`
  - `api/…`
  - `services/…`
  - `clients/…`
  - `config/…`
- `tests/`
- `README.md`

## 五、详细实现步骤（里程碑）

> 本节建议把项目拆成 4–6 个小里程碑，便于跟踪和复盘。

### 里程碑 1：项目初始化

- 初始化 Python 虚拟环境与依赖管理
- 创建 FastAPI 最小示例接口（如 `/health`）
- 配置 `.env` / `config`，预留大模型密钥位置

### 里程碑 2：大模型 API 封装

- 封装一个统一的 `LLMClient`：
  - 接收 `prompt`、`system_prompt`、参数（温度、max_tokens 等）
  - 返回模型生成结果
- 完成一次端到端的 “问一句 → 回一句” 对话

### 里程碑 3：基础 Agent 逻辑

- 设计系统提示（System Prompt），定义 Agent 的角色与风格
- 添加最简单的对话上下文管理（如最近几轮历史）
- 将 Agent 暴露为 API 接口 `/agent/chat`

### 里程碑 4：工具设计与集成

- 设计 1–2 个简单工具（如：计算器、时间查询、翻译）
- 定义统一的 Tool 接口：
  - `name`、`description`、`input_schema`、`call()` 等
- 在 Agent 中加入：
  - 工具选择逻辑（可先用 If-Else 或简单规则）
  - 工具调用结果与大模型回答的融合

### 里程碑 5：健壮性与体验优化（可选）

- 增加错误处理与超时控制
- 增加基本日志与简单监控指标（如请求总数、错误次数）
- 如有前端：优化基础交互体验（加载中状态、错误提示等）

## 六、测试与验收标准

### 6.1 功能测试

- 对话链路：
  - 输入简单问答，返回内容合理
  - 输入需要工具的指令（如计算 / 时间），Agent 能调用工具并整合结果
- 错误分支：
  - 模型调用失败或超时时，有清晰提示（而不是直接报错崩溃）

### 6.2 验收标准（示例）

- 必须项：
  - 提交可运行的项目代码与 `README.md`
  - 提供至少 5 组测试用例（可为脚本、Postman 集合或文档描述）
  - 本地一条命令即可启动服务（如 `uvicorn src.main:app --reload`）
- 加分项：
  - 提供基础单元测试（`pytest`）
  - 提供简单的前端页面或交互 Demo
  - 使用 Docker 打包并可通过 `docker run` 启动

## 七、文档要求

项目应至少包含以下文档：

- `README.md`
  - 项目简介与功能说明
  - 环境依赖与安装步骤
  - 启动方式与示例请求
- `ARCHITECTURE.md`（可选）
  - 模块划分与关键设计说明
  - Agent 处理流程的时序图 / 流程图（可用文字描述代替）
- `NOTES.md`（可选）
  - 开发过程中的问题记录与思考
  - 后续优化方向

## 八、复盘与扩展方向

在项目完成后，建议进行一次简要复盘，回答如下问题：

- 这个 Basic Agent 在实际使用中有哪些明显限制？
- 如果要扩展为 RAG Agent，你会在哪些地方增加模块（如检索、向量库）？
- 如果要支持多 Agent 协作，你会如何拆分角色？
- 在企业环境中上线前，还需要补充哪些能力（如权限控制、监控告警等）？

> 提示：请在实际执行项目时，将上述问题的思考写入 `NOTES.md`，为后续 `02-rag-agent`、`03-multi-agent-workflow` 等项目打基础。


